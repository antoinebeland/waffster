<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Waffster: Hierarchical Waffle Charts for User-Friendly Public Budget Consumption</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles/font-awesome.min.css">
  <link rel="stylesheet" href="assets/styles/normalize.css">
  <link rel="stylesheet" href="assets/styles/style.css">
</head>
<body>
<nav>
  <ul>
    <li>
      <a href="#abstract">Abstract</a>
    </li>
    <li>
      <a href="#survey">Survey</a>
    </li>
    <li>
      <a href="#experiment">Experiment</a>
    </li>
    <li>
      <a href="#case-study">Case Study</a>
    </li>
    <li>
      <a href="#code">Code</a>
    </li>
    <li>
      <a href="#team">Team</a>
    </li>
  </ul>
</nav>
<div class="wrapper">
  <header>
    <h1>Waffster</h1>
    <h2>Hierarchical Waffle Charts for User-Friendly Public Budget Consumption</h2>
  </header>
  <main>
    <article class="teaser">
      <figure>
        <img alt="Teaser" src="assets/images/teaser.svg">
        <figcaption>
          Waffster is a focus-plus-context unit-based representation based on hierarchical waffle charts enabling users
          such as mass media readers to consume and explore public budget data. Here the user is exploring the Quebec
          Government 2022-2023 projected expenditures (right) and revenues (left). Specifically, he is digging into
          the structure of "Economy and Environment" expenditures and "Income Taxes" revenues.
        </figcaption>
      </figure>
      <a class="btn green" href="#demo">
        <i class="fa fa-play"></i>&nbsp; Execute demo
      </a>
    </article>
    <div class="content">
      <article>
        <div id="abstract"></div>
        <h1>Abstract</h1>
        <p>
          Understanding and consuming public budget data is a key issue, helping citizens in gaining insight into their
          democratic and political systems. The goal of this work is to present Waffster, a user-friendly representation
          supporting the understanding of such data. The proposed representation enables several tasks such as data
          discovering, searching, presenting, identifying and comparing, where targets are budget headings and their
          hierarchical relations. The contributions of this design study, which was carried out in close collaboration
          with <em>Le Devoir</em>, a Canadian newspaper, are: a thorough survey of online public budget visualizations,
          a novel hierarchical design based on waffle charts, a controlled user study to compare it to a tree-map based
          layout, and a case study conducted with <em>Le Devoir</em> during the Fall 2018 provincial election campaign
          in Quebec.
        </p>
        <p>
          <strong>Keywords:</strong> Public budget, data visualization, design study.
        </p>
      </article>
      <article>
        <div id="survey"></div>
        <h1>Survey of Public Data Visualizations</h1>
        <p>
          A corpus of 39 budget data visualizations from mass media and public institutions was gathered. This corpus
          was analyzed along two dimensions: <em>layout</em> and <em>tasks</em>.
        </p>
        <a class="btn pull-right"
           href="https://docs.google.com/spreadsheets/d/1DtKPO3wXqG4YMaVlMugWLBQjfG06Ysn_Ytb-45c5ZkE/edit?usp=sharing">
          View Survey &nbsp;<i class="fa fa-angle-double-right" aria-hidden="true"></i>
        </a>
      </article>
      <article>
        <div id="experiment"></div>
        <h1>Controlled Experiment</h1>
        <p>
          A controlled experiment was performed to compare Waffster to a tree-map based on two aspects: data
          understanding and user experience.
        </p>
        <a class="btn pull-right" href="#experiment-demo">
          View Experiment &nbsp;<i class="fa fa-angle-double-right" aria-hidden="true"></i>
        </a>
      </article>
      <article>
        <div id="case-study"></div>
        <h1>Case Study</h1>
        <p>
          During 2018 Quebec provincial election, <em>Le Devoir</em> used Waffster to illustrate the impacts of
          financial frameworks of each political party on the actual provincial budget.
        </p>
        <div class="pull-right align-center">
          <a class="btn"
             href="http://www.ledevoir.com/documents/special/18-09_elections-quebec-visualiseur-budget/index.html">
            View Article &nbsp;<i class="fa fa-angle-double-right" aria-hidden="true"></i>
          </a><br>
          <small style="display: inline-block; margin-top: 0.7em">(in French)</small>
        </div>
      </article>
      <article>
        <div id="code"></div>
        <h1>Source Code</h1>
        <p>
          Waffster was implemented as a web-application using TypeScript and d3.js.
          Waffster is open source and uses GPLv3 license.
        </p>
        <a class="btn pull-right" href="https://github.com/antoinebeland/waffster">
          View on GitHub &nbsp;<i class="fa fa-angle-double-right" aria-hidden="true"></i>
        </a>
      </article>
      <article>
        <div id="team"></div>
        <h1>Team</h1>
        <ul class="team">
          <li>
            <a href="https://www.antoinebeland.com/" target="_blank">
              <img alt="Antoine Béland" src="assets/images/abeland.png"><br>
              <strong>Antoine Béland</strong><br>
              Polytechnique Montreal
            </a>
          </li>
          <li>
            <a href="https://fdaudens.com/" target="_blank">
              <img alt="Florent Daudens" src="assets/images/fdaudens.png"><br>
              <strong>Florent Daudens</strong><br>
              <em>Le Devoir</em>
            </a>
          </li>
          <li>
            <a href="http://www.professeurs.polymtl.ca/thomas.hurtut/" target="_blank">
              <img alt="Thomas Hurtut" src="assets/images/thurtut.jpg"><br>
              <strong>Thomas Hurtut</strong><br>
              Polytechnique Montreal
            </a>
          </li>
        </ul>
      </article>
    </div>
  </main>
  <footer>
    <p>We acknowledge the support of the Natural Sciences and Engineering Council of Canada (NSERC).</p>
    <ul class="partners">
      <li>
        <a href="https://www.polymtl.ca/en" target="_blank">
          <img alt="Polytechnique Montreal" src="assets/images/polymtl.svg">
        </a>
      </li>
      <li>
        <a href="https://www.ledevoir.com/" target="_blank">
          <img alt="Le Devoir" src="assets/images/ledevoir.svg">
        </a>
      </li>
      <li>
        <a href="http://www.nserc-crsng.gc.ca/index_eng.asp" target="_blank">
          <img alt="NSERC" src="assets/images/nserc.svg">
        </a>
      </li>
    </ul>
  </footer>
</div>
<article class="dialog-demo" id="demo">
  <div class="control-bar">
    <a class="pull-right" href="#" title="Close">
      <i class="fa fa-times-circle" aria-hidden="true"></i>
    </a>
    <h1>Waffster Demo</h1>
  </div>
  <iframe data-src="./examples/demo/index.html">
  </iframe>
</article>
<article class="dialog-demo" id="experiment-demo">
  <div class="control-bar">
    <a class="pull-right" href="#" title="Close">
      <i class="fa fa-times-circle" aria-hidden="true"></i>
    </a>
    <label id="experiment-version-selector">
      <select>
        <option>Version 1 (V1/D1-V2/D2)</option>
        <option>Version 2 (V1/D2-V2/D1)</option>
        <option>Version 3 (V2/D1-V1/D2)</option>
        <option>Version 4 (V2/D2-V1/D1)</option>
      </select>
    </label>
    <h1>Experiment demo</h1>
  </div>
  <iframe data-src="./examples/evaluation/index.html?id=demo&version=1">
  </iframe>
</article>
<script>
  (() => {
    const body = document.body;
    function onHashChange() {
      if (location.hash) {
        const section = document.querySelector(location.hash);
        if (section) {
          const iframe = section.querySelector('iframe');
          if (iframe && iframe.dataset.src) {
            if (!iframe.src) {
              iframe.src = iframe.dataset.src;
            }
            body.style.overflow = 'hidden';
            return;
          }
        }
      }
      body.style.overflow =  'auto';
    }
    window.addEventListener('hashchange', onHashChange);
    onHashChange();

    const experimentSelector = document.querySelector('#experiment-version-selector > select');
    experimentSelector.addEventListener('change', () => {
      const iframe = document.querySelector(location.hash)
          .querySelector('iframe');

      const src = iframe.src;
      iframe.src = src.substring(0, src.length - 1) + (+experimentSelector.selectedIndex + 1);
    });
  })();
</script>
</body>
</html>
